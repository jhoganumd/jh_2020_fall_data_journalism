---
title: "fatal_shootings_data"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# load libraries
```{r}
library(tidyverse)
```

#load data
```{r}
fatal_shootings <- read_csv("fatal-police-shootings-data.csv")
```

# examine data
```{r}
glimpse(fatal_shootings)
```

# analysis

#Finding 1

“Since The Washington Post began tracking fatal shootings by police in 2015, officers have fatally shot 247 women out of the more than 5,600 people killed overall.”

```{r}
fatal_shootings %>%
  arrange(date) %>%
  select(date)
#The Washington Post's first data point is from January 2, 2015.
```
```{r}
women_only_fatal_police_shootings <- fatal_shootings %>%
  filter(gender == "F") %>%
  count()
women_only_fatal_police_shootings
#250 women have be shot and killed by police sinve 2015.
```

```{r}
total_fatal_police_shootings <- fatal_shootings %>%
  count()
total_fatal_police_shootings
#There are 5680 records in the Post's data set, meaning that 5680 people have been shot and killed by police since the beginning of 2015. 
```
#Finding 2

“Since 2015, Black women have accounted for less than 1 percent of the overall fatal shootings in cases where race was known..."

```{r}
fatal_shootings %>%
  filter(race != "None") %>%
  group_by(race, gender) %>%
  summarize(total_shootings = n()) %>%
  arrange(desc(total_shootings)) %>%
  mutate(race_gender = paste(race, gender, sep = "-")) %>%
  ungroup() %>%
  select(race_gender, total_shootings) %>%
  pivot_wider(names_from = race_gender, values_from = total_shootings) %>%
  mutate(total_shootings = sum(c_across(`W-M`:`W-NA`))) %>%
  select(total_shootings, `B-F`) %>%
  mutate(Black_female_proportion_of_fatal_shootings = `B-F`/total_shootings*100) %>%
  select(Black_female_proportion_of_fatal_shootings)
  
```

"... But within this small subset, Black women, who are 13 percent of the female population, account for 20 percent of the women shot and killed...

```{r}
fatal_shootings %>%
  filter(gender == "F") %>%
  group_by(race, gender) %>%
  summarize(total_shootings = n()) %>%
  arrange(desc(total_shootings)) %>%
  mutate(race_gender = paste(race, gender, sep = "-")) %>%
  ungroup() %>%
  select(race_gender, total_shootings) %>%
  pivot_wider(names_from = race_gender, values_from = total_shootings) %>%
  mutate(total_shootings = sum(c_across(`W-F`:`O-F`))) %>%
  select(total_shootings, `B-F`) %>%
  mutate(Black_female_proportion_of_female_shootings = `B-F`/total_shootings*100) %>%
  select(Black_female_proportion_of_female_shootings)
```

"and 28 percent of the unarmed deaths.”

```{r}
fatal_shootings %>%
  filter(armed == "unarmed") %>%
  filter(gender == "F") %>%
  group_by(armed, race, gender) %>%
  select(armed, race, gender) %>%
  summarize(total_unarmed_shootings = n()) %>%
  mutate(race_gender = paste(race, gender, sep = "-")) %>%
  ungroup() %>%
  select(race_gender, total_unarmed_shootings) %>%
  pivot_wider(names_from = race_gender, values_from = total_unarmed_shootings) %>%
  mutate(total_unarmed_shootings = sum(c_across(`B-F`:`NA-F`))) %>%
  select(total_unarmed_shootings, `B-F`)
  
```


#Finding 3

“The starkest difference between women and men is the rate: Women account for about half the population, but 4 percent of the killings.”

```{r}
women_percentage <- fatal_shootings %>%
  group_by(gender) %>%
  count() %>%
  pivot_wider(names_from = gender , values_from = n) %>%
  mutate(total=`F`+`M`+`NA`) %>%
  mutate(percent_women = `F`/total*100)
women_percentage
```




##Finding 4
"About 31 percent, or 77, of the 247 women fatally shot by police since 2015 had mental health issues, compared to 22 percent of the 5,362 men killed."

```{r}
#Option 1
shootings_mental_health <- fatal_shootings %>%
  filter(signs_of_mental_illness == "TRUE") %>%
  group_by(gender) %>%
  count() %>%
  pivot_wider(names_from = gender, values_from = n) %>%
  mutate(percent_women = `F`/250*100) %>%
  mutate(percent_men = `M`/5429*100)
  
#The values for total men and women shot are known from Finding #3, however by entering those values into the formula myself I introduce potential for human error. Using this approach, I am not sure how to get those totals of men and women shot into the same data frame as the totals of mentally ill men and women shot. I tried another approach below.
shootings_mental_health
```

```{r}
#Option 2
#Group by gender to get totals.
number_gender <- fatal_shootings %>%
  group_by(gender) %>%
  count() %>%
  rename(gender_total = n)
number_gender 
#Filter for mental illness and group by gender.
shootings_mental_illness_gender <- fatal_shootings %>%
  filter(signs_of_mental_illness == "TRUE") %>%
  group_by(gender) %>%
  count() %>%
  rename(mental_illness_total = n)
shootings_mental_illness_gender
#Join the new data frames and add a column that calculates percentage.
shootings_mental_illness_percentage <- shootings_mental_illness_gender %>%
  inner_join(number_gender) %>%
  mutate(gender_percent = mental_illness_total/gender_total*100)
shootings_mental_illness_percentage
#While this approach is accurate, I doubt it is the most efficient method.